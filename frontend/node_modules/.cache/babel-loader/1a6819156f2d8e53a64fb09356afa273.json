{"ast":null,"code":"var _jsxFileName = \"/Users/serina/Documents/GitHub/19_20_TWOIng4_Project/frontend/src/vue/liste.js\";\n// Liste de tous les utilisateurs\n// Formulaire pour ajouter un utilisateur\nimport axios from 'axios';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button, Table, Col, Form, FormGroup, Label, Input, FormText } from 'reactstrap';\n\nconst User = props => React.createElement(\"tr\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12\n  },\n  __self: this\n}, React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 14\n  },\n  __self: this\n}, \" \", props.user.location), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 15\n  },\n  __self: this\n}, \" \", props.user.personsInHouse), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16\n  },\n  __self: this\n}, \" \", props.user.houseSize), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17\n  },\n  __self: this\n}, \" \", React.createElement(Link, {\n  to: \"/edit/\" + props.user._id,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17\n  },\n  __self: this\n}, \"Edit\"), \" | \", React.createElement(\"a\", {\n  href: \"#\",\n  onClick: () => {\n    props.deleteUser(props.user._id);\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17\n  },\n  __self: this\n}, \"Delete\"), \" \"));\n\nclass Liste extends React.Component {\n  constructor(props) {\n    super(props);\n    this.deleteUser = this.deleteUser.bind(this);\n    this.state = {\n      users: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:4000/User').then(response => {\n      this.setState({\n        users: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  deleteUser(id) {\n    axios.delete('http://localhost:4000/User/' + id).then(res => console.log(res.data));\n    this.setState({\n      users: this.state.users.filter(el => el._id !== id)\n    });\n  }\n\n  userList() {\n    return this.state.users.map(currentUser => {\n      return React.createElement(User, {\n        user: currentUser,\n        deleteUser: this.deleteUser,\n        key: currentUser._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \" Liste des utilisateurs\"), React.createElement(Table, {\n      className: \"align-middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      className: \"thead-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \" Pays \"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \" Nombre d'habitants \"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \" Taille  \"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \" \", this.userList(), \" \")));\n  }\n\n}\n\nexport default Liste;","map":{"version":3,"sources":["/Users/serina/Documents/GitHub/19_20_TWOIng4_Project/frontend/src/vue/liste.js"],"names":["axios","React","Link","Button","Table","Col","Form","FormGroup","Label","Input","FormText","User","props","user","location","personsInHouse","houseSize","_id","deleteUser","Liste","Component","constructor","bind","state","users","componentDidMount","get","then","response","setState","data","catch","error","console","log","id","delete","res","filter","el","userList","map","currentUser","render"],"mappings":"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","sourcesContent":["// Liste de tous les utilisateurs\n\n// Formulaire pour ajouter un utilisateur\n\nimport axios from 'axios';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button, Table, Col, Form, FormGroup, Label, Input, FormText } from 'reactstrap';\n\n\nconst User = props => (\n\t<tr>\n\n\t\t<td> {props.user.location}</td>\n\t\t<td> {props.user.personsInHouse}</td>\n\t\t<td> {props.user.houseSize}</td>\n\t\t<td> <Link to={\"/edit/\" + props.user._id}>Edit</Link> | <a href=\"#\" onClick={() => { props.deleteUser(props.user._id) }}>Delete</a> </td> \n\n\t</tr>\n)\n\n\nclass Liste extends React.Component {\n\n\n\tconstructor(props) {\n\n\t\tsuper(props);\n\n\t\tthis.deleteUser = this.deleteUser.bind(this);\n\t\t\n\t\tthis.state = {\n\t\t\tusers: []\n\t\t};\n\t}\n\n\tcomponentDidMount(){\n\t\taxios.get('http://localhost:4000/User')\n\t\t\t.then(response => {\n\t\t\t\tthis.setState({ users: response.data })\n\t\t\t})\n\t\t\t.catch((error) => { console.log(error) }); \n\t}\n\n\tdeleteUser(id){\n\t\taxios.delete('http://localhost:4000/User/' + id)\n\t\t\t.then(res => console.log(res.data));\n\t\tthis.setState({\n\t\t\tusers: this.state.users.filter(el=> el._id !== id)\n\t\t\t})\n\t}\n\n\n\tuserList(){\n\t\treturn this.state.users.map(currentUser =>{\n\t\t\treturn <User user={currentUser} deleteUser={this.deleteUser} key={currentUser._id} />;\n\t\t})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t<h3> Liste des utilisateurs</h3>\n\t\t\t\t<Table className=\"align-middle\">\n\t\t\t<thead className=\"thead-light\">\n\t\t\t\t<tr>\n\t\t\t\t\t<th> Pays </th>\n\t\t\t\t\t<th> Nombre d'habitants </th>\n\t\t\t\t\t<th> Taille  </th>\n\t\t\t\t</tr>\n\n\t\t\t</thead>\n\n\t\t\t<tbody > {this.userList()} </tbody>\n\t\t\t</Table>\n\t\t\t</div>\n\t\t);\n\t}\n\n\n}\n\n\n\n\nexport default Liste;\n"]},"metadata":{},"sourceType":"module"}